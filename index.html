<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <link href="https://fonts.googleapis.com/css?family=Monoton" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Crete+Round|Montserrat" rel="stylesheet">

    <script>

      window.onload = function(){

        var main = document.getElementById("main");

        for(var i = 0; i < geemails.length; i++) {
          
          var x = document.createElement("div");
          x.className = "emailBox";

          var senderArea = document.createElement("div");
          senderArea.innerHTML = geemails[i].sender;
          senderArea.className = "senderBox";
          x.appendChild(senderArea);

          var subjectArea = document.createElement("div");
          subjectArea.innerHTML = geemails[i].subject;
          subjectArea.className = "subjectBox";
          x.appendChild(subjectArea);

          var dateArea = document.createElement("div");
          dateArea.innerHTML = geemails[i].date;
          dateArea.className = "dateBox";
          x.appendChild(dateArea);

          var bodyArea = document.createElement("div");
          bodyArea.className = "realBodyBox";
          bodyArea.innerHTML = "Click Here to Read";
            
          var realArea = document.createElement("div");
          realArea.innerHTML = geemails[i].body;
          realArea.className = "messageBox";

          bodyArea.appendChild(realArea); 

          main.appendChild(x);
          main.appendChild(bodyArea);

        }

        var z = document.getElementsByClassName("realBodyBox");
        
        for (var i = 0; i < z.length; i++) {
          z[i].addEventListener("click", showBody);
        }

        function showBody(){
          var s = this.querySelectorAll(".messageBox")[0];

          if (s.style.display === "none") {
            s.style.display = "block"; 
          } else {
            s.style.display = "none";
          }
        }

        
        var inbox = document.getElementById("inboxCounter");
        inbox.innerHTML = "Inbox: " + geemails.length;
        
        var inbox2 = document.getElementById("sentMail");
        inbox2.innerHTML = "Sent: " + 0;
        
        var inbox3 = document.getElementById("drafts");
        inbox3.innerHTML = "Drafts: " + 0;

        var inbox4 = document.getElementById("trash");
        inbox4.innerHTML = "Trash: " + 0;        

        setInterval(function(){

          geemails.push(getNewMessage()); 
          inbox.innerHTML = "Inbox: " + geemails.length;

          var i = document.createElement("div");
          i.className = "emailBox";
          var ten = document.createElement("div");
          ten.className = "senderBox";
          ten.innerHTML = geemails[geemails.length - 1].sender;
          i.appendChild(ten);
          var eleven = document.createElement("div");
          eleven.className = "subjectBox";
          eleven.innerHTML = geemails[geemails.length - 1].subject;
          i.appendChild(eleven);
          var twelve = document.createElement("div");
          twelve.className = "dateBox";
          twelve.innerHTML = geemails[geemails.length - 1].date;
          i.appendChild(twelve);
          
          var j = document.createElement("div");
          j.className = "realBodyBox";
          j.innerHTML = "Click Here to Read";
          var jj = geemails[geemails.length - 1].body;
          j.addEventListener("click", function(){
            this.style.color = "green";
            this.innerHTML = jj;
          });

          main.appendChild(i);
          main.appendChild(j);

        
        }, 5000);

        
        
      };

      </script>

	</head>
	<body>

    <h1 id="title">The GeeMail Application<img src="assets/icon 1.jpg" alt="" id="img"></h1>

    <div class="container" id="main">
    </div>

        <div id="inboxCounter"></div>
        <div id="sentMail"></div>
        <div id="drafts"></div>
        <div id="trash"></div>

    

	</body>
</html>